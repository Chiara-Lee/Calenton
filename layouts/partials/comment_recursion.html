<div class="comment" style="margin-left: {{ mul .Depth 20 }}px;">
  <img src="https://www.gravatar.com/avatar/{{ md5 .comment.email }}?s=100&d=wavatar" alt="{{ .comment.name }} Avatar">
  <div class="author">{{ .comment.name }}</div>
  <div class="message">{{ .comment.comment }}</div>
  <button class="reply-button" data-parent="{{ .comment.comment_id }}" data-name="{{ .comment.name }}">Reply (Parent ID: {{ .comment.comment_id }})</button>


  <span class="time">{{ .time }}</span>

  {{ if lt .Depth 2 }} <!-- 设置嵌套层级限制，2 表示最多嵌套 1 层子评论 -->
  <div class="replies">
      {{/* 遍历所有评论，寻找当前评论的子评论 */}}
      {{ range $index, $reply := .comments }}
      {{ if eq (default "" $reply.parent) $.comment.comment_id }} <!-- 使用默认值保护 parent 字段 --> <!-- 匹配子评论的 parent ID -->
              {{ partial "comment_recursion.html" (dict "comment" $reply "Depth" (add $.Depth 1) "comments" $.comments) }}
          {{ end }}
      {{ end }}
  </div>
{{ end }}
</div>

  