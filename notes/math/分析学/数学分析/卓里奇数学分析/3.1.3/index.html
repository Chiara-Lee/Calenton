<!doctype html><html lang=zh><head><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&display=swap" rel=stylesheet><meta charset=UTF-8><meta name=description content="a.柯西准则（Cauchy criterion） 定义 7.（柯西数列）
数列 \{x_n\} 称为 基本数列（或 柯西数列），如果对于任何一个数 \varepsilon > 0 ，可以求出序号 N \in \mathbb{N} ，使得由 n > N, m > N 可知 |x_m - x_n| < \varepsilon 。
(后半段即 Terrence Tao 的 Real Analysis 中定义的最终 \varepsilon -稳定)
因此 Terrence Tao 定义的柯西数列的叙述是：
定义 5.1.8 （柯西序列）
有理数序列 (a_n)_{n=0}^\infty 被称为柯西序列，当且仅当对于任意的有理数 \varepsilon > 0 ，序列 (a_n)_{n=0}^\infty 是最终 \varepsilon -稳定的。
定理 4. （数列收敛的柯西准则） 数列收敛的充要条件为它是柯西数列。
证明：
设 \lim_{n \to \infty} x_n = A 。对于数 \varepsilon > 0 ，求出序号 N ，使得当 n > N 时有 |x_n - A| < \varepsilon / 2 。如果现在 m > N 且 n > N ，则"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon type=image/png href=https://chiara-lee.netlify.app/image/favicon_huf6346096f3d7b7acad7cedced168daa3_32661_e417e70d9bed0e84d471438e1d707785.png><link rel=stylesheet href=/css/index.css><link rel=stylesheet href=/css/categories.css><link rel=stylesheet href=/css/comment.css><link rel=stylesheet href=/css/page-main.css><link rel=stylesheet href=/css/pagination.css><link rel=stylesheet href=/css/profile-card.css><link rel=stylesheet href=/css/relative.css><link rel=stylesheet href=/css/search.css><link rel=stylesheet href=/css/about.css><link rel=stylesheet href=/css/post-card.css><link rel=stylesheet href=/css/markdown.css><link rel=stylesheet href=/css/friends.css><link rel=stylesheet href=/css/latex.css><title>3.1.3 数列极限的存在性问题</title>
<script type=text/javascript src=/index.js defer></script></head><body class=page><header><a href=/><img src=https://chiara-lee.netlify.app//image/logo.png alt="Calenton Logo" style=width:180px;height:160px>
Caleton Academy
</a><span id=search><input type=search placeholder=Search><div></div></span><nav><button class=hamburger>&#9776;</button><ul><li><a href=/notes>笔记</a><ul><li><a href=/notes/physcis/>Physics</a></li><li><a href=/notes/math/>Math</a></li><li><a href=/notes/computer-science-and-technology/>Cst</a></li></ul></li><li><a href=/thoughts>思考碎片</a></li><li><a href=/friends>友人帐</a></li><li><a href=/about>关于</a></li></ul></nav></header><main><h1>3.1.3 数列极限的存在性问题</h1><h2>Table of Contents</h2><nav id=TableOfContents><ul><li><a href=#a柯西准则cauchy-criterion>a.柯西准则（Cauchy criterion）</a></li><li><a href=#b单调数列极限存在准则>b.单调数列极限存在准则</a></li><li><a href=#c-数-hahahugoshortcode24s302hbhb>c. 数 HAHAHUGOSHORTCODE24s302HBHB</a></li><li><a href=#d子列和数列的部分极限>d.子列和数列的部分极限</a></li></ul></nav><div class=content-wrapper><div class=content><h2 id=a柯西准则cauchy-criterion>a.柯西准则（Cauchy criterion）</h2><p><strong>定义 7.（柯西数列）</strong></p><p>数列
<span class=fallback-latex>\{x_n\}
</span>称为 <strong>基本数列</strong>（或 <strong>柯西数列</strong>），如果对于任何一个数
<span class=fallback-latex>\varepsilon > 0
</span>，可以求出序号
<span class=fallback-latex>N \in \mathbb{N}
</span>，使得由
<span class=fallback-latex>n > N, m > N
</span>可知
<span class=fallback-latex>|x_m - x_n| < \varepsilon
</span>。</p><p>(后半段即 Terrence Tao 的 Real Analysis 中定义的最终
<span class=fallback-latex>\varepsilon
</span>-稳定)</p><p>因此 Terrence Tao 定义的柯西数列的叙述是：</p><blockquote><p><strong>定义 5.1.8 （柯西序列）</strong><br>有理数序列
<span class=fallback-latex>(a_n)_{n=0}^\infty
</span>被称为柯西序列，当且仅当对于任意的有理数
<span class=fallback-latex>\varepsilon > 0
</span>，序列
<span class=fallback-latex>(a_n)_{n=0}^\infty
</span>是最终
<span class=fallback-latex>\varepsilon
</span>-稳定的。</p></blockquote><p><strong>定理 4. （数列收敛的柯西准则）</strong> 数列收敛的充要条件为它是柯西数列。</p><p><strong>证明：</strong></p><p>设
<span class=fallback-latex>\lim_{n \to \infty} x_n = A
</span>。对于数
<span class=fallback-latex>\varepsilon > 0
</span>，求出序号
<span class=fallback-latex>N
</span>，使得当
<span class=fallback-latex>n > N
</span>时有
<span class=fallback-latex>|x_n - A| < \varepsilon / 2
</span>。如果现在
<span class=fallback-latex>m > N
</span>且
<span class=fallback-latex>n > N
</span>，则<br><span class=fallback-latex>|x_m - x_n| < |x_m - A| + |x_n - A| < \varepsilon / 2 + \varepsilon / 2 = \varepsilon,</span><br>从而验证了收敛数列是基本数列。</p><blockquote><p>其中的关键不等式也是三角不等式的变体：<br>这个不等式
<span class=fallback-latex>|x_m - x_n| < |x_m - A| + |x_n - A|
</span>实际上是从三角不等式衍生出来的。</p><p>我们可以这样理解：</p><ol><li>把
<span class=fallback-latex>x_m - x_n
</span>重写为
<span class=fallback-latex>(x_m - A) - (x_n - A)
</span>。</li><li>也就是说
<span class=fallback-latex>|x_m - x_n| = |(x_m - A) - (x_n - A)|
</span>。</li><li>根据三角不等式，对任意两个实数，它们的差的绝对值小于等于它们绝对值的和。</li><li>所以
<span class=fallback-latex>|(x_m - A) - (x_n - A)| \leq |x_m - A| + |x_n - A|
</span>。</li></ol><p>所以
<span class=fallback-latex>|x_m - x_n| < |x_m - A| + |x_n - A|
</span>。</p></blockquote><p>现在设
<span class=fallback-latex>\{x_k\}
</span>是基本数列。对于给定的
<span class=fallback-latex>\varepsilon > 0
</span>，求出序号
<span class=fallback-latex>N
</span>，使得当
<span class=fallback-latex>m \geq N
</span>且
<span class=fallback-latex>k \geq N
</span>时有
<span class=fallback-latex>|x_m - x_k| < \varepsilon / 3
</span>。把
<span class=fallback-latex>m
</span>固定为
<span class=fallback-latex>m = N
</span>，我们得到，对于任何
<span class=fallback-latex>k > N
</span>都有<br><span class=fallback-latex>x_N - \varepsilon / 3 < x_k < x_N + \varepsilon / 3. \tag{1}</span></p><p>但是，因为在数列
<span class=fallback-latex>\{x_k\}
</span>中只有有限个项的序号不大于
<span class=fallback-latex>N
</span>(这句话的意思是：对于一个数列
<span class=fallback-latex>\{x_k\}
</span>，小于等于某个特定整数
<span class=fallback-latex>N
</span>的项（即序号为
<span class=fallback-latex>1, 2, \dots, N
</span>的项）是有限的。
)，所以我们证明了基本数列是有界数列。</p><blockquote><p>我们逐步分析证明的每一步：</p><p><strong>(1) 基本数列的性质</strong></p><p>根据基本数列的定义：</p><ul><li>对于任意
<span class=fallback-latex>\varepsilon > 0
</span>，存在一个正整数
<span class=fallback-latex>N
</span>，当
<span class=fallback-latex>m, k > N
</span>时：<br><span class=fallback-latex>> |x_m - x_k| < \frac{\varepsilon}{3}. ></span></li></ul><p>这意味着，当
<span class=fallback-latex>k, m > N
</span>时，数列的所有项
<span class=fallback-latex>x_k
</span>都非常接近某个
<span class=fallback-latex>x_m
</span>，并且距离可以小于
<span class=fallback-latex>\varepsilon / 3
</span>。</p><p><strong>(2) 固定
<span class=fallback-latex>m = N</span></strong></p><p>为了解化问题，证明中固定
<span class=fallback-latex>m = N
</span>。这样可以得到：<br><span class=fallback-latex>> |x_k - x_N| < \frac{\varepsilon}{3}, \quad \forall k > N. ></span></p><p>这说明当
<span class=fallback-latex>k > N
</span>时，所有的
<span class=fallback-latex>x_k
</span>都位于以
<span class=fallback-latex>x_N
</span>为中心、宽度为
<span class=fallback-latex>\varepsilon / 3
</span>的区间内：<br><span class=fallback-latex>> x_N - \frac{\varepsilon}{3} < x_k < x_N + \frac{\varepsilon}{3}. ></span></p><p><strong>(3) 数列的两部分分析</strong></p><ul><li><strong>对于有限部分
<span class=fallback-latex>(k \leq N)
</span></strong>：
<span class=fallback-latex>x_1, x_2, \dots, x_N
</span>是有限项，有限项的集合必然是有界的。</li><li><strong>对于无限部分
<span class=fallback-latex>(k > N)
</span></strong>：这些项都被限制在区间
<span class=fallback-latex>(x_N - \varepsilon / 3, x_N + \varepsilon / 3)
</span>内，显然也是有界的。</li></ul><p><strong>(4) 总结</strong></p><p>既然
<span class=fallback-latex>k \leq N
</span>的项是有界的，
<span class=fallback-latex>k > N
</span>的项也是有界的，整个数列就必然是有界的。</p></blockquote><p>对于
<span class=fallback-latex>n \in \mathbb{N}
</span>，现在设
<span class=fallback-latex>a_n := \inf_{k \geq n} x_k, \quad b_n := \sup_{k \geq n} x_k.
</span>。从这些定义可以看出
<span class=fallback-latex>a_n \leq a_{n+1} \leq b_{n+1} \leq b_n,</span></p><blockquote><ul><li><p><strong><span class=fallback-latex>\inf A
</span></strong>表示集合
<span class=fallback-latex>A
</span>的 <strong>下确界</strong>，也叫 <strong>最大上界</strong>。</p></li><li><p>它是这样一个值：</p><ol><li><span class=fallback-latex>\inf A \leq x \quad \forall x \in A
</span>（下界的性质）；</li><li>对于任意比
<span class=fallback-latex>\inf A
</span>小的值
<span class=fallback-latex>y
</span>，都存在
<span class=fallback-latex>x \in A
</span>，使得
<span class=fallback-latex>y < x
</span>（即
<span class=fallback-latex>\inf A
</span>是所有下界中最大的）。</li></ol></li><li><p><strong><span class=fallback-latex>\sup A
</span></strong>表示集合
<span class=fallback-latex>A
</span>的 <strong>上确界</strong>，也叫 <strong>最小上界</strong>。</p></li><li><p>它是这样一个值：</p><ol><li><span class=fallback-latex>\sup A \geq x \quad \forall x \in A
</span>（上界的性质）；</li><li>对于任意比
<span class=fallback-latex>\sup A
</span>大的值
<span class=fallback-latex>y
</span>，都存在
<span class=fallback-latex>x \in A
</span>，使得
<span class=fallback-latex>y > x
</span>（即
<span class=fallback-latex>\sup A
</span>是所有上界中最小的）。</li></ol></li></ul></blockquote><p>(因为当集合变小时，其下界不减小，上界不增大)。根据闭区间套引理，闭区间套序列
<span class=fallback-latex>[a_n, b_n]
</span>有公共点
<span class=fallback-latex>A
</span>。</p><p>因为对于任何
<span class=fallback-latex>n \in \mathbb{N}
</span>都有<br><span class=fallback-latex>a_n \leq A \leq b_n,</span><br>而当
<span class=fallback-latex>k \geq n
</span>时，<br><span class=fallback-latex>a_n = \inf_{k \geq n} x_k \leq x_k \leq \sup_{k \geq n} x_k = b_n,</span><br>所以当
<span class=fallback-latex>k \geq n
</span>时，我们有<br><span class=fallback-latex>|A - x_k| \leq b_n - a_n. \tag{2}</span></p><p>但由 (1) 可知，当
<span class=fallback-latex>n > N
</span>时，<br><span class=fallback-latex>x_N - \varepsilon / 3 \leq \inf_{k \geq n} x_k = a_n \leq b_n = \sup_{k \geq n} x_k \leq x_N + \varepsilon / 3,</span><br>所以当
<span class=fallback-latex>n > m
</span>时，<br><span class=fallback-latex>b_n - a_n \leq 2 \varepsilon / 3 < \varepsilon. \tag{3}</span></p><p>对比 (2) 与 (3)，我们得到，对于任何
<span class=fallback-latex>k > N
</span>，<br><span class=fallback-latex>|A - x_k| < \varepsilon,</span><br>从而证明了<br><span class=fallback-latex>\lim_{k \to \infty} x_k = A.</span></p><blockquote><p><strong>这段证明的核心目的是：证明数列
<span class=fallback-latex>\{x_k\}
</span>收敛到某个极限
<span class=fallback-latex>A
</span>，即</strong></p><span class=fallback-latex>> \lim_{k \to \infty} x_k = A. ></span><p>下面将分步骤叙述证明思路的逻辑结构和关键推导。</p><p><strong>1. 定义上下确界序列</strong></p><p>定义了两个新的序列：</p><span class=fallback-latex>> a_n = \inf_{k \geq n} x_k, \quad b_n = \sup_{k \geq n}, ></span><p>分别表示从第
<span class=fallback-latex>n
</span>项开始数列
<span class=fallback-latex>\{x_k\}
</span>的下确界和上确界。</p><p><strong>性质：</strong></p><ul><li><p><span class=fallback-latex>a_n \leq x_k \leq b_n \ \forall k \geq n
</span>，即
<span class=fallback-latex>[a_n, b_n]
</span>是从第
<span class=fallback-latex>n
</span>项开始数列的值域范围。</p></li><li><p>当
<span class=fallback-latex>n
</span>增大时，集合
<span class=fallback-latex>\{x_k : k \geq n\}
</span>会变小（因为包含的项数减少），所以：
<span class=fallback-latex>> a_n \leq a_{n+1}, \quad b_n \geq b_{n+1}. ></span></p></li><li><p>换句话说，序列
<span class=fallback-latex>\{a_n\}
</span>是递增的，而序列
<span class=fallback-latex>\{b_n\}
</span>是递减的。</p></li><li><p>由于
<span class=fallback-latex>a_n \leq b_n
</span>对所有
<span class=fallback-latex>n
</span>成立，根据区间套原理，闭区间序列
<span class=fallback-latex>[a_n, b_n]
</span>的公共点存在，记为
<span class=fallback-latex>A
</span>。</p><span class=fallback-latex>> a_n \to A, \quad b_n \to A \quad \text{当 } n \to \infty. ></span></li></ul><p>这一步确定了
<span class=fallback-latex>A
</span>是上下确界序列的极限。</p><p><strong>2. 基本数列的性质约束</strong></p><p>利用基本数列的性质：</p><p>对于任意给定的
<span class=fallback-latex>\epsilon > 0
</span>，存在
<span class=fallback-latex>N \in \mathbb{N}
</span>，当
<span class=fallback-latex>m, k \geq N
</span>时：</p><span class=fallback-latex>> |x_m - x_k| \leq \frac{\epsilon}{3}. ></span><p>将
<span class=fallback-latex>m = N
</span>固定，可以推出：</p><span class=fallback-latex>> x_k \in \left[x_N - \frac{\epsilon}{3}, x_N + \frac{\epsilon}{3}\right], \quad \forall k \geq N. ></span><p>因此，从第
<span class=fallback-latex>N
</span>项开始的所有
<span class=fallback-latex>x_k
</span>都被限制在一个长度为
<span class=fallback-latex>\frac{2\epsilon}{3}
</span>的区间内。这为后续的上下确界收缩提供了依据。</p><p><strong>3. 收缩区间的大小</strong></p><p>利用基本数列的性质，结合
<span class=fallback-latex>a_n
</span>和
<span class=fallback-latex>b_n
</span>的定义：</p><span class=fallback-latex>> a_n = \inf_{k \geq n} x_k, \quad b_n = \sup_{k \geq n}, ></span><p>可知对于
<span class=fallback-latex>n > N
</span>，从
<span class=fallback-latex>x_k
</span>的分布范围可以进一步得出：</p><span class=fallback-latex>> x_N - \frac{\epsilon}{3} \leq a_n \leq b_n \leq x_N + \frac{\epsilon}{3}. ></span><p>于是：</p><span class=fallback-latex>> b_n - a_n \leq \frac{2\epsilon}{3}. ></span><p>因此，当
<span class=fallback-latex>n > N
</span>时，区间
<span class=fallback-latex>[a_n, b_n]
</span>的长度逐渐收缩，并且满足：</p><span class=fallback-latex>> b_n - a_n < \epsilon. ></span><p><strong>4. 确定极限</strong></p><p>通过前面的步骤：</p><ol><li>从区间套引理可知：
<span class=fallback-latex>> a_n \to A, \quad b_n \to A. ></span></li><li>因为
<span class=fallback-latex>a_n \leq x_k \leq b_n
</span>对所有
<span class=fallback-latex>k \geq n
</span>成立，所以对任意
<span class=fallback-latex>\epsilon > 0
</span>，总存在
<span class=fallback-latex>N
</span>，当
<span class=fallback-latex>k \geq N
</span>时，有：</li></ol><span class=fallback-latex>> |A - x_k| \leq b_n - a_n < \epsilon. ></span><p>这证明了
<span class=fallback-latex>x_k \to A
</span>。</p><p><strong>证明逻辑总结</strong></p><ol><li>定义上下确界序列
<span class=fallback-latex>a_n, b_n
</span>，并证明
<span class=fallback-latex>a_n
</span>递增、
<span class=fallback-latex>b_n
</span>递减，且两者的公共极限存在，记为
<span class=fallback-latex>A
</span>。</li><li>利用基本数列的性质，证明从某个
<span class=fallback-latex>N
</span>项之后，数列所有项被限制在区间
<span class=fallback-latex>[a_n, b_n]
</span>内。</li><li>结合区间收缩性质（区间长度趋于零），得出数列
<span class=fallback-latex>\{x_k\}
</span>收敛到
<span class=fallback-latex>A
</span>。</li></ol></blockquote><p><strong>例 8.</strong> 数列
<span class=fallback-latex>(-1)^n \ (n = 1, 2, \cdots)
</span>没有极限，因为它不是基本数列。虽然这是很明显的，我们还是给出常规的验证。命题“
<span class=fallback-latex>x_n
</span>是基本数列”的否命题是：</p><span class=fallback-latex>\exists \epsilon > 0 \ \forall N \in \mathbb{N} \ \exists n > N \ \exists m > N \ (|x_m - x_n| \geq \epsilon),</span><p>即可以求出
<span class=fallback-latex>\epsilon > 0
</span>，使得对于任何
<span class=fallback-latex>N \in \mathbb{N}
</span>，可以求出大于
<span class=fallback-latex>N
</span>并且满足
<span class=fallback-latex>|x_m - x_n| \geq \epsilon
</span>的序号
<span class=fallback-latex>n, m
</span>。</p><p>在本例中，只要取
<span class=fallback-latex>\epsilon = 1
</span>即可。这时，对于任何
<span class=fallback-latex>N \in \mathbb{N}
</span>，我们有：</p><span class=fallback-latex>|x_{N+1} - x_{N+2}| = |1 - (-1)| = 2 > 1 = \epsilon.</span><p><strong>例 9.</strong> 设</p><span class=fallback-latex>x_1 = 0.\alpha_1, \quad x_2 = 0.\alpha_1\alpha_2, \quad x_3 = 0.\alpha_1\alpha_2\alpha_3, \ \cdots, \quad x_n = 0.\alpha_1\alpha_2\cdots\alpha_n, \ \cdots</span><p>是某有限二进制小数列，并且在每一项末尾补充数码
<span class=fallback-latex>0
</span>或
<span class=fallback-latex>1
</span>即得下一项。我们来证明这样的数列必定收敛。设
<span class=fallback-latex>m > n
</span>并估计差值
<span class=fallback-latex>x_m - x_n
</span>：</p><span class=fallback-latex>|x_m - x_n| = \left|\frac{\alpha_{n+1}}{2^{n+1}} + \cdots + \frac{\alpha_m}{2^m}\right| \leq \frac{1}{2^{n+1}} + \cdots + \frac{1}{2^m} = \frac{\left(\frac{1}{2}\right)^{n+1} - \left(\frac{1}{2}\right)^{m+1}}{1 - \frac{1}{2}} < \frac{1}{2^n}.</span><p>于是，按照给定的
<span class=fallback-latex>\epsilon > 0
</span>选取满足
<span class=fallback-latex>1/2^N < \epsilon
</span>的数
<span class=fallback-latex>N
</span>，则对于任何
<span class=fallback-latex>m > n > N
</span>，我们得到估计：</p><span class=fallback-latex>|x_m - x_n| < \frac{1}{2^n} < \frac{1}{2^N} < \epsilon,</span><p>这就证明了
<span class=fallback-latex>\{x_n\}
</span>是基本数列。</p><blockquote><p>十进制和二进制都是 <strong>位置表示法 (Positional Notation)</strong> 的数制。它们的本质相同，只是 **基数 (Base)**不同。下面将从几个关键点详细对比两者。</p><p><strong>1. 基数</strong></p><p><strong>十进制 (Decimal, Base-10):</strong></p><ul><li>基数为 10，每个位置的权重是
<span class=fallback-latex>10^k
</span>或
<span class=fallback-latex>10^{-k} \ (k \text{ 为整数})
</span>。</li><li>每一位数字可以取
<span class=fallback-latex>0, 1, 2, \dots, 9
</span>共 10 种可能值。</li></ul><p><strong>二进制 (Binary, Base-2):</strong></p><ul><li>基数为 2，每个位置的权重是
<span class=fallback-latex>2^k
</span>或
<span class=fallback-latex>2^{-k} \ (k \text{ 为整数})
</span>。</li><li>每一位数字只能取
<span class=fallback-latex>0
</span>或
<span class=fallback-latex>1
</span>两种可能值。</li></ul><p><strong>2.数值的表示方式</strong></p><p>十进制和二进制的数值都是通过<strong>权重累加</strong>实现数值表示的。</p><p><strong>十进制</strong></p><p>十进制数
<span class=fallback-latex>d_n d_{n-1} \dots d_1 d_0 . d_{-1} d_{-2} \dots
</span>（小数点左边整数部分，右边小数部分）表示为：</p><span class=fallback-latex>> N = \sum_{k=-\infty}^{+\infty} d_k \cdot 10^k ></span><p>其中：</p><ul><li><span class=fallback-latex>d_k
</span>是第
<span class=fallback-latex>k
</span>位的数字；</li><li>每位数字
<span class=fallback-latex>d_k \in \{0, 1, 2, \dots, 9\}
</span>；</li><li><span class=fallback-latex>10^k
</span>是对应位置的权重。</li></ul><p><strong>例如：</strong></p><span class=fallback-latex>> 135.27_{10} = 1 \cdot 10^2 + 3 \cdot 10^1 + 5 \cdot 10^0 + 2 \cdot 10^{-1} + 7 \cdot 10^{-2} ></span><p><strong>二进制</strong></p><p>二进制数
<span class=fallback-latex>b_n b_{n-1} \dots b_1 b_0 . b_{-1} b_{-2} \dots
</span>表示为：</p><span class=fallback-latex>> N = \sum_{k=-\infty}^{+\infty} b_k \cdot 2^k ></span><p>其中：</p><ul><li><span class=fallback-latex>b_k
</span>是第
<span class=fallback-latex>k
</span>位的数字；</li><li>每位数字
<span class=fallback-latex>b_k \in \{0, 1\}
</span>；</li><li><span class=fallback-latex>2^k
</span>是对应位置的权重。</li></ul><p><strong>例如：</strong></p><span class=fallback-latex>> 1101.01_2 = 1 \cdot 2^3 + 1 \cdot 2^2 + 0 \cdot 2^1 + 1 \cdot 2^0 + 0 \cdot 2^{-1} + 1 \cdot 2^{-2} = 8 + 4 + 0 + 1 + 0 + 0.25 = 13.25_{10} ></span><p>因此，在本例中，</p><span class=fallback-latex>> |x_m - x_n| = \left| \frac{\alpha_{n+1}}{2^{n+1}} + \frac{\alpha_{n+2}}{2^{n+2}} + \cdots + \frac{\alpha_m}{2^m} \right| \quad \text{其中 } m > n. ></span><p>表示的是从第
<span class=fallback-latex>n+1
</span>位到第
<span class=fallback-latex>m
</span>位的剩余二进制部分。</p><p>而上述不等式右边是一段有限的等比数列，其公比
<span class=fallback-latex>r = \frac{1}{2}
</span>，首项为
<span class=fallback-latex>\frac{1}{2^{n+1}}
</span>，共有
<span class=fallback-latex>m-n
</span>项。</p><p>根据等比数列求和公式：</p><span class=fallback-latex>> S = a \frac{1 - r^k}{1 - r}, ></span><p>其中
<span class=fallback-latex>a
</span>是首项，
<span class=fallback-latex>r
</span>是公比，
<span class=fallback-latex>k
</span>是项数。</p><p>对应这里：</p><ul><li>首项
<span class=fallback-latex>a = \frac{1}{2^{n+1}}
</span>，</li><li>公比
<span class=fallback-latex>r = \frac{1}{2}
</span>，</li><li>项数
<span class=fallback-latex>k = m-n
</span>。</li></ul><p>因此：</p><span class=fallback-latex>> \frac{1}{2^{n+1}} + \frac{1}{2^{n+2}} + \cdots + \frac{1}{2^m} = \frac{\frac{1}{2^{n+1}} \left(1 - \left(\frac{1}{2}\right)^{m-n}\right)}{1 - \frac{1}{2}}. ></span><p>简化分母
<span class=fallback-latex>1 - \frac{1}{2} = \frac{1}{2}
</span>，于是：</p><span class=fallback-latex>> = \frac{\frac{1}{2^{n+1}} \left(1 - \left(\frac{1}{2}\right)^{m-n+1}\right)}{\frac{1}{2}} = \frac{1}{2^n} \left(1 - \left(\frac{1}{2}\right)^{m-n}\right). ></span><p>注意到
<span class=fallback-latex>\left(\frac{1}{2}\right)^{m-n}
</span>是非常小的数，可以忽略它对上界的影响，因此最终得：</p><span class=fallback-latex>> \frac{1}{2^n}. ></span><p>这就说明
<span class=fallback-latex>|x_m - x_n| < \frac{1}{2^n}
</span>。</p></blockquote><p><strong>例 10.</strong> 考虑数列
<span class=fallback-latex>\{x_n\}
</span>，其中</p><span class=fallback-latex>x_n = 1 + \frac{1}{2} + \cdots + \frac{1}{n}.</span><p>对于
<span class=fallback-latex>\frac{1}{n+1}, \frac{1}{n+2}, \cdots, \frac{1}{2n}
</span>，所有分母都在区间
<span class=fallback-latex>[n+1, 2n]
</span>之间。因此每一项
<span class=fallback-latex>\frac{1}{k}
</span>都大于
<span class=fallback-latex>\frac{1}{2n}
</span>（因为
<span class=fallback-latex>k \leq 2n
</span>）。</p><p>共有
<span class=fallback-latex>n
</span>项（从第
<span class=fallback-latex>n+1
</span>到第
<span class=fallback-latex>2n
</span>，项数为
<span class=fallback-latex>2n - (n+1) + 1 = n
</span>）。因此，这些项的和有下界：</p><span class=fallback-latex>\frac{1}{n+1} + \frac{1}{n+2} + \cdots + \frac{1}{2n} > n \cdot \frac{1}{2n}.</span><p>因此，</p><span class=fallback-latex>|x_{2n} - x_n| = \frac{1}{n+1} + \cdots + \frac{1}{n+n} > n \cdot \frac{1}{2n} = \frac{1}{2},</span><p>所以，根据柯西准则，该数列没有极限。</p><h2 id=b单调数列极限存在准则>b.单调数列极限存在准则</h2><p><strong>定义 8.(单调数列)</strong> 对于数列
<span class=fallback-latex>\{x_n\}
</span>，</p><ul><li>如果
<span class=fallback-latex>\forall n \in \mathbb{N} \ (x_n \leq x_{n+1})
</span>则称之为 <strong>不减数列</strong>；</li><li>如果
<span class=fallback-latex>\forall n \in \mathbb{N} \ (x_n < x_{n+1})
</span>则称之为 <strong>递增数列</strong>；</li><li>如果
<span class=fallback-latex>\forall n \in \mathbb{N} \ (x_n \geq x_{n+1}),
</span>则称之为 <strong>不增数列</strong>；</li><li>如果
<span class=fallback-latex>\forall n \in \mathbb{N} \ (x_n > x_{n+1}),
</span>则称之为 <strong>递减数列</strong>。</li></ul><p>这四种数列都称为 <strong>单调数列</strong>。</p><p><strong>定义 9.(有界数列)</strong></p><p>数列
<span class=fallback-latex>\{x_n\}
</span>称为 <strong>上有界数列</strong>，如果存在数
<span class=fallback-latex>M
</span>，使得
<span class=fallback-latex>\forall n \in \mathbb{N} \ (x_n < M).</span></p><p>类似地可以定义下有界数列。</p><p><strong>定理 5（魏尔斯特拉斯定理 Weierstrass theorem）. 单调数列有极限的充要条件是它有（上确界/下确界）。</strong></p><p><strong>证明：</strong></p><p>在讨论数列的一般性质时，我们已经证明了任何收敛数列必定有界，所以只需关注定理的第二部分结论。</p><p><strong>单调递增有上界则必收敛</strong></p><p>根据条件，数列
<span class=fallback-latex>\{x_n\}
</span>上有界，即它有上确界
<span class=fallback-latex>s = \sup x_n
</span>。</p><p>按照上确界的定义，对于任意
<span class=fallback-latex>\epsilon > 0
</span>，存在元素
<span class=fallback-latex>x_N \in \{x_n\}
</span>，使得
<span class=fallback-latex>s - \epsilon < x_N \leq s
</span>。因为数列
<span class=fallback-latex>\{x_n\}
</span>是不减数列，所以对于任何
<span class=fallback-latex>n \geq N
</span>，现在得到
<span class=fallback-latex>s - \epsilon < x_N \leq x_n \leq s
</span>，即
<span class=fallback-latex>|s - x_n| = s - x_n < \epsilon
</span>，从而证明了
<span class=fallback-latex>\lim_{n \to \infty} x_n = s
</span>。</p><p><strong>单调递减有下界则必收敛</strong></p><p>当然，对于下有界不增数列可以写出并证明类似的定理，这时
<span class=fallback-latex>\lim_{n \to \infty} x_n = \inf x_n
</span>。</p><p>附注：不减（不增）数列的上（下）有界性，实际上显然等价于其有界性。</p><p><strong>例 11.</strong> 当
<span class=fallback-latex>q > 1
</span>时，
<span class=fallback-latex>\lim_{n \to \infty} \frac{n}{q^n} = 0
</span>。<strong>【重要例子1.】</strong></p><p>其实，如果
<span class=fallback-latex>x_n = \frac{n}{q^n}
</span>，则
<span class=fallback-latex>x_{n+1} = \frac{n+1}{nq} x_n, \ n \in \mathbb{N}
</span>。因为</p><span class=fallback-latex>\lim_{n \to \infty} \frac{n+1}{nq} = \lim_{n \to \infty} \left(1 + \frac{1}{n} \right) \frac{1}{q} = \lim_{n \to \infty} \left(1 + \frac{1}{n}\right) \cdot \lim_{n \to \infty} \frac{1}{q} = 1 \cdot \frac{1}{q} = \frac{1}{q} < 1,</span><p>所以，可以求出序号
<span class=fallback-latex>N
</span>，使得当
<span class=fallback-latex>n > N
</span>时，
<span class=fallback-latex>\frac{n+1}{nq} < 1
</span>。因此，当
<span class=fallback-latex>n > N
</span>时
<span class=fallback-latex>x_{n+1} < x_n
</span>(因为
<span class=fallback-latex>x_{n+1} = \frac{n+1}{nq} x_n, \ n \in \mathbb{N}
</span>)，即该数列在
<span class=fallback-latex>x_N
</span>这一项之后单调下降。由极限的定义可知，数列的有限个项不影响其收敛性和极限值，所以现在只需要求出数列
<span class=fallback-latex>x_{N+1} > x_{N+2} > \cdots
</span>的极限。</p><p>数列各项都是正的，即该数列下有界，这说明它有极限。</p><p>设
<span class=fallback-latex>x = \lim_{n \to \infty} x_n
</span>。现在由关系式
<span class=fallback-latex>x_{n+1} = \frac{n+1}{nq} x_n
</span>可知</p><span class=fallback-latex>x = \lim_{n \to \infty} x_{n+1} = \lim_{n \to \infty} \frac{n+1}{nq} x_n = \lim_{n \to \infty} \frac{n+1}{nq} \cdot \lim_{n \to \infty} x_n = \frac{1}{q} x,</span><p>由此得到
<span class=fallback-latex>\left(1 - \frac{1}{q}\right) x = 0
</span>(因为数列极限是唯一的，事实上，
<span class=fallback-latex>x = \lim_{n \to \infty} x_{n+1}
</span>也是因为数列极限唯一才可以写出的)，所以
<span class=fallback-latex>x = 0
</span>。</p><p><strong>推论 1.</strong>
<span class=fallback-latex>\lim_{n \to \infty} \sqrt[n]{n} = 1.
</span>**【重要例子2.】**</p><p><strong>证明：</strong></p><p>对于固定的
<span class=fallback-latex>\epsilon > 0
</span>，根据已经证明的结果，可以找到
<span class=fallback-latex>N \in \mathbb{N}
</span>，使得当
<span class=fallback-latex>n > N
</span>时</p><span class=fallback-latex>1 \leq n < (1 + \epsilon)^n.</span><p>于是，当
<span class=fallback-latex>n > N
</span>时得到</p><span class=fallback-latex>1 \leq \sqrt[n]{n} < 1 + \epsilon,</span><p>当
<span class=fallback-latex>n > N
</span>时，
<span class=fallback-latex>\sqrt[n]{n}
</span>始终在
<span class=fallback-latex>\epsilon
</span>的邻域内，这说明
<span class=fallback-latex>\lim_{n \to \infty} \sqrt[n]{n} = 1
</span>确实成立。</p><p><strong>推论 2.</strong> 对于任何
<span class=fallback-latex>a > 0
</span>，
<span class=fallback-latex>\lim_{n \to \infty} \sqrt[n]{a} = 1.
</span>**【重要例子3.】**</p><p><strong>证明：</strong><br>设
<span class=fallback-latex>a \geq 1
</span>。对于任何
<span class=fallback-latex>\epsilon > 0
</span>，可以求出
<span class=fallback-latex>N \in \mathbb{N}
</span>，使得当
<span class=fallback-latex>n > N
</span>时</p><span class=fallback-latex>1 \leq a < (1 + \epsilon)^n.</span><p>于是，当
<span class=fallback-latex>n > N
</span>时得到</p><span class=fallback-latex>1 \leq \sqrt[n]{a} < 1 + \epsilon,</span><p>即
<span class=fallback-latex>\lim_{n \to \infty} \sqrt[n]{a} = 1.</span></p><p>如果
<span class=fallback-latex>0 < a < 1
</span>，则
<span class=fallback-latex>1 < \frac{1}{a}
</span>，因此</p><span class=fallback-latex>\lim_{n \to \infty} \sqrt[n]{a} = \lim_{n \to \infty} \frac{1}{\sqrt[n]{\frac{1}{a}}} = \frac{1}{\lim_{n \to \infty} \sqrt[n]{\frac{1}{a}}} = \frac{1}{1} = 1.</span><p><strong>例 12.</strong>
<span class=fallback-latex>\lim_{n \to \infty} \frac{q^n}{n!} = 0,
</span>其中
<span class=fallback-latex>q
</span>是任何实数，
<span class=fallback-latex>n \in \mathbb{N}, \ n! := 1 \cdot 2 \cdot \cdots \cdot n
</span>。<strong>【重要例子4.】</strong></p><p><strong>证明：</strong><br>如果
<span class=fallback-latex>q = 0
</span>，则结论显然成立。又因为</p><span class=fallback-latex>\left| \frac{q^n}{n!} \right| = \frac{|q|^n}{n!},</span><p>所以只要证明
<span class=fallback-latex>q > 0
</span>的情形即可。这时，按照上述讨论，我们有</p><span class=fallback-latex>x_{n+1} = \frac{q}{n+1} x_n.</span><p>因为自然数集不是上有界的，所以可以求出序号
<span class=fallback-latex>N
</span>，使得当
<span class=fallback-latex>n > N
</span>时</p><span class=fallback-latex>0 < \frac{q}{n+1} < 1.</span><p>于是，当
<span class=fallback-latex>n > N
</span>时
<span class=fallback-latex>x_{n+1} < x_n
</span>。再注意到数列各项均为正，现在就可以保证极限
<span class=fallback-latex>\lim_{n \to \infty} x_n = x
</span>存在。因此，</p><span class=fallback-latex>x = \lim_{n \to \infty} x_{n+1} = \lim_{n \to \infty} \frac{q}{n+1} x_n = \lim_{n \to \infty} \frac{q}{n+1} \cdot \lim_{n \to \infty} x_n = 0 \cdot x = 0.</span><h2 id=c-数-hahahugoshortcode24s302hbhb>c. 数
<span class=fallback-latex>e</span></h2><p><strong>例 13.</strong> 证明极限</p><span class=fallback-latex>\lim_{n \to \infty} \left(1 + \frac{1}{n}\right)^n</span><p>存在。</p><p>这个极限是被欧拉记为
<span class=fallback-latex>e
</span>的一个数，它在数学分析中的重要性与算术中的
<span class=fallback-latex>1
</span>和几何中的
<span class=fallback-latex>\pi
</span>相当。我们还将在区别很大的各种场合下遇到这个极限。</p><p>首先验证以下不等式：</p><p><strong>伯努利（Bernoulli）不等式：</strong></p><span class=fallback-latex>(1 + \alpha)^n \geq 1 + n \alpha,</span><p>其中
<span class=fallback-latex>n \in \mathbb{N}, \ \alpha > -1
</span>。</p><p><strong>证明</strong>：</p><p>当
<span class=fallback-latex>n = 1
</span>时，结论成立。如果它对
<span class=fallback-latex>n \in \mathbb{N}
</span>成立，则对
<span class=fallback-latex>n+1
</span>也成立，因为</p><span class=fallback-latex>(1 + \alpha)^{n+1} = (1 + \alpha)(1 + \alpha)^n \geq (1 + \alpha)(1 + n\alpha) = 1 + (n+1)\alpha + n\alpha^2 \geq 1 + (n+1)\alpha.</span><p>于是，依据归纳原理，结论对任何
<span class=fallback-latex>n \in \mathbb{N}
</span>都成立。</p><p>顺便指出，从推导过程中可以看出，当
<span class=fallback-latex>\alpha \neq 0
</span>且
<span class=fallback-latex>n > 1
</span>时，严格的不等式成立。</p><p>现在证明 <strong>数列
<span class=fallback-latex>y_n = \left(1 + \frac{1}{n}\right)^{n+1}
</span>是递减数列</strong>。</p><p>设
<span class=fallback-latex>n \geq 2
</span>。利用已经证明的不等式，得到：</p><span class=fallback-latex>\begin{aligned} \frac{y_{n-1}}{y_{n}} & =\frac{\left(1+\frac{1}{n-1}\right)^{n}}{\left(1+\frac{1}{n}\right)^{n+1}}=\frac{n^{2 n}}{\left(n^{2}-1\right)^{n}} \cdot \frac{n}{n+1}=\left(1+\frac{1}{n^{2}-1}\right)^{n} \cdot \frac{n}{n+1} \\ & \geqslant\left(1+\frac{n}{n^{2}-1}\right) \cdot \frac{n}{n+1}>\left(1+\frac{1}{n}\right) \cdot \frac{n}{n+1}=1 . \end{aligned}.</span><p>进一步整理得：</p><span class=fallback-latex>\frac{y_{n-1}}{y_n} \geq \left(1 + \frac{1}{n}\right) \cdot \frac{n}{n+1} = 1.</span><p>因为数列各项为正，所以极限
<span class=fallback-latex>\lim_{n \to \infty} \left(1 + \frac{1}{n}\right)^{n+1}
</span>存在。</p><p>于是，</p><span class=fallback-latex>\begin{align}
\lim_{n \to \infty} \left(1 + \frac{1}{n}\right)^n &= \lim_{n \to \infty} \left(1 + \frac{1}{n}\right)^{n+1} \left(1 + \frac{1}{n}\right)^{-1} \\
&= \lim_{n \to \infty} \left(1 + \frac{1}{n}\right)^{n+1} \cdot \lim_{n \to \infty} \left(1 + \frac{1}{n}\right)^{-1}
= \lim_{n \to \infty} \left(1 + \frac{1}{n}\right)^{n+1}.
\end{align}</span><p><strong>定义 10.</strong></p><span class=fallback-latex>\boxed{e := \lim_{n \to \infty} \left(1 + \frac{1}{n}\right)^n}.</span><h2 id=d子列和数列的部分极限>d.子列和数列的部分极限</h2><p><strong>定义 11.(子列)</strong> 如果
<span class=fallback-latex>x_1, x_2, \cdots, x_n, \cdots
</span>是某数列，而
<span class=fallback-latex>n_1 < n_2 < \cdots < n_k < \cdots
</span>是递增自然数列，则数列
<span class=fallback-latex>x_{n_1}, x_{n_2}, \cdots, x_{n_k}, \cdots
</span>称为数列
<span class=fallback-latex>{x_n}
</span>的子列。</p><p>例如，按照本来顺序排列的奇自然数列
<span class=fallback-latex>1, 3, 5, \cdots
</span>是数列
<span class=fallback-latex>1, 2, 3, \cdots
</span>的子列，但数列
<span class=fallback-latex>3, 1, 5, 7, 9, \cdots
</span>不是数列
<span class=fallback-latex>1, 2, 3, \cdots
</span>的子列。</p><p><strong>引理 1（波尔查诺–魏尔斯特拉斯引理） 每个有界实数列都含有收敛的子列。</strong></p><p>设
<span class=fallback-latex>E
</span>是有界数列
<span class=fallback-latex>{x_n}
</span>的值集（值集（Range）指的是函数、序列或其他映射的所有可能输出值的集合。）。如果
<span class=fallback-latex>E
</span>是有限集，则至少存在一个点
<span class=fallback-latex>x \in E
</span>及序号序列
<span class=fallback-latex>n_1 < n_2 < \cdots
</span>，使得
<span class=fallback-latex>x_{n_1} = x_{n_2} = \cdots = x
</span>。子列
<span class=fallback-latex>{x_n}
</span>是常数列，所以收敛。</p><blockquote><p>我们可以将上述结论归纳成一个定理：如果数列
<span class=fallback-latex>{x_n}
</span>的值集
<span class=fallback-latex>E
</span>是有限集，则至少存在一个值
<span class=fallback-latex>x \in E
</span>，在数列中出现无限次。</p><p>如果值集
<span class=fallback-latex>E
</span>是有限集，这就意味着数列的取值只有有限个，例如：</p><ul><li><p>数列可能只取值
<span class=fallback-latex>1, 2, 3
</span>，即
<span class=fallback-latex>E = \{1, 2, 3\}
</span>。</p></li><li><p>由于数列是无限的，而值集只有有限多个，必然有至少一个值被重复无限次。这是基于「鸽巢原理」（Pigeonhole Principle）的：无限个数字装进有限个值中，必定有某个值出现无限次。</p></li></ul><p>因此，如果
<span class=fallback-latex>E
</span>是有限集，这个定理一定成立。</p><p><strong>证明：</strong></p><p><strong>1. 前提条件：</strong></p><ul><li><p>数列
<span class=fallback-latex>\{x_n\}
</span>是一个无限长的序列，即
<span class=fallback-latex>\{x_1, x_2, x_3, \dots\}
</span>，它包含无穷多项。</p></li><li><p>数列的值集
<span class=fallback-latex>E = \{e_1, e_2, \dots, e_k\}
</span>是有限集，即数列的所有可能取值都来自这
<span class=fallback-latex>k
</span>个值，其中
<span class=fallback-latex>k
</span>是有限的正整数。</p></li></ul><p><strong>2. 鸽巢原理：</strong></p><ul><li><p>鸽巢原理表明，如果有
<span class=fallback-latex>N
</span>个对象（鸽子）被分配到
<span class=fallback-latex>M
</span>个盒子（鸽巢）中，且
<span class=fallback-latex>N > M
</span>，那么至少有一个盒子中包含多个对象。</p></li><li><p>在这里，数列中的每一项
<span class=fallback-latex>x_1, x_2, x_3, \dots
</span>可以看作是「鸽子」，而有限值集中的每一个值
<span class=fallback-latex>e_1, e_2, \dots, e_k
</span>是「鸽巢」。</p></li></ul><p><strong>3. 构造映射：</strong></p><ul><li>将数列中的每一项
<span class=fallback-latex>x_n
</span>映射到值集中的某个值
<span class=fallback-latex>e_i \in E
</span>：</li></ul><span class=fallback-latex>> f : \mathbb{N} \to E, \quad f(n) = e_i, ></span><p>其中
<span class=fallback-latex>f(n) = e_i
</span>表示第
<span class=fallback-latex>n
</span>项取值为
<span class=fallback-latex>e_i
</span>。</p><ul><li>因为值集
<span class=fallback-latex>E
</span>是有限的，所以鸽巢数量
<span class=fallback-latex>M = k
</span>是有限的；而数列项数量是无限的（鸽子数量
<span class=fallback-latex>N = \infty
</span>）。</li></ul><p><strong>4. 应用鸽巢原理：</strong></p><ul><li><p>数列中的所有项（无穷多个鸽子）被分配到有限个值（
<span class=fallback-latex>k
</span>个鸽巢）中。</p></li><li><p>根据鸽巢原理，必定存在至少一个值
<span class=fallback-latex>e_i \in E
</span>，使得该值
<span class=fallback-latex>e_i
</span>在数列中被分配到无限多次。</p></li></ul><p><strong>5. 结论：</strong></p><ul><li>因此，存在某个
<span class=fallback-latex>x \in E
</span>，使得数列中有无限多个项
<span class=fallback-latex>x_n = x
</span>。即定理得证。</li></ul></blockquote><p>如果
<span class=fallback-latex>E
</span>是无限集，则根据波尔查诺–魏尔斯特拉斯原理（任何无穷有界数列至少有一个极限点），它至少有一个极限点
<span class=fallback-latex>x
</span>。因为
<span class=fallback-latex>x
</span>是
<span class=fallback-latex>E
</span>的极限点，所以可以选出
<span class=fallback-latex>n_1 \in \mathbb{N}
</span>，使得
<span class=fallback-latex>|x_{n_1} - x| < 1
</span>。如果已经选出
<span class=fallback-latex>n_k \in \mathbb{N}
</span>，使得
<span class=fallback-latex>n_k < n_{k+1}
</span>且
<span class=fallback-latex>|x_{n_k} - x| < 1/k
</span>，则因为
<span class=fallback-latex>x
</span>是
<span class=fallback-latex>E
</span>的极限点，所以可以求出
<span class=fallback-latex>n_{k+1} \in \mathbb{N}
</span>，使得
<span class=fallback-latex>n_k < n_{k+1}
</span>且
<span class=fallback-latex>|x_{n_{k+1}} - x| < 1/(k+1)
</span>。</p><p>因为
<span class=fallback-latex>\lim_{k \to \infty} 1/k = 0
</span>，所以上述子列
<span class=fallback-latex>x_{n_1}, x_{n_2}, \cdots, x_{n_k}, \cdots
</span>收敛于
<span class=fallback-latex>x
</span>。</p><p><strong>定义 12.（趋于无穷）</strong>
对于数列
<span class=fallback-latex>{x_n}
</span>，如果对于每个数
<span class=fallback-latex>c
</span>都可以求出序号
<span class=fallback-latex>N \in \mathbb{N}
</span>，使得当
<span class=fallback-latex>n > N
</span>时
<span class=fallback-latex>x_n > c
</span>，就约定写出
<span class=fallback-latex>x_n \to +\infty
</span>并说数列
<span class=fallback-latex>{x_n}
</span>趋于正无穷。</p><p>我们用逻辑符号写出这个定义和两个类似的定义：</p><span class=fallback-latex>(x_n \to +\infty) := \forall c \in \mathbb{R} \ \exists N \in \mathbb{N} \ \forall n > N \ (c < x_n)
</span><span class=fallback-latex>(x_n \to -\infty) := \forall c \in \mathbb{R} \ \exists N \in \mathbb{N} \ \forall n > N \ (x_n < c)
</span><span class=fallback-latex>(x_n \to \infty) := \forall c \in \mathbb{R} \ \exists N \in \mathbb{N} \ \forall n > N \ (|c| < |x_n|)</span><p>**我们指出，一个无穷数列可能既不趋于正无穷，又不趋于负无穷，也不趋于无穷，但同时是无界的。**例如，
<span class=fallback-latex>x_n = n(-1)^n
</span>。</p><p>我们不认为趋于无穷的数列是收敛数列。</p><p>容易看出，根据这些定义可以稍微改变上述引理的表述，使它包括更多内容。</p><p><strong>引理 2. 从每一个实数列中都可以选出一个收敛的或趋于无穷的子列。</strong></p><p><strong>证明：</strong></p><p>引理 1 已经证明了有界的情况。对于无界实数列，我们根据
<span class=fallback-latex>k \in \mathbb{N}
</span>选取
<span class=fallback-latex>n_k \in \mathbb{N}
</span>，使得
<span class=fallback-latex>|x_{n_k}| > k
</span>且
<span class=fallback-latex>n_k < n_{k+1}
</span>，从而得到趋于无穷的子列
<span class=fallback-latex>{x_{n_k}}
</span>。</p><p>设
<span class=fallback-latex>{x_k}
</span>是任意实数列。如果它下有界，就可以考虑数列
<span class=fallback-latex>i_n = \inf_{k \geq n} x_k
</span>（我们在证明柯西准则时已经遇到过这个数列）。因为对于任何
<span class=fallback-latex>n \in \mathbb{N}
</span>都有
<span class=fallback-latex>i_n \leq i_{n+1}
</span>，所以数列
<span class=fallback-latex>{i_n}
</span>或者具有有限的极限
<span class=fallback-latex>\lim_{n \to \infty} i_n = l
</span>，或者
<span class=fallback-latex>i_n \to +\infty
</span>。</p><p>需要注意的是，我们不能说若一个数列不趋于无穷，则必收敛。因为反例是很容易找到的，例如震荡的数列。</p><p>但是对于上述的数列
<span class=fallback-latex>{i_n}
</span>，若其不收敛，即</p><span class=fallback-latex>\exists c \in \mathbb{R}, \ \forall N \in \mathbb{N}, \ \exists n > N, \ |c| \geq |i_n|.</span><p>也就是说，它单调递增有上界，那么根据定理 5，它就是收敛的。</p><p><strong>定义 13.（下极限）</strong></p><p>数
<span class=fallback-latex>l = \lim_{n \to \infty} \inf_{k \geq n} x_k
</span>称为数列
<span class=fallback-latex>{x_k}
</span>的下极限，记作
<span class=fallback-latex>\underline{\lim}_{k \to \infty} x_k=+\infty
</span>或
<span class=fallback-latex>\liminf{k \to \infty} x_k=+\infty
</span>。</p><p>如果
<span class=fallback-latex>i_n \to +\infty
</span>，就说数列的下极限等于正无穷，记作
<span class=fallback-latex>\lim_{k \to \infty} x_k = +\infty
</span>或
<span class=fallback-latex>\liminf_{k \to \infty} x_k = +\infty
</span>。</p><p>如果数列
<span class=fallback-latex>{x_k}
</span>无下界，则对于任何
<span class=fallback-latex>n \in \mathbb{N}
</span>都有
<span class=fallback-latex>i_n = \inf_{k \geq n} x_k = -\infty
</span>，这时说数列的下极限等于负无穷，记作
<span class=fallback-latex>\underline{\lim}_{k \to \infty} x_k = -\infty
</span>或
<span class=fallback-latex>\liminf_{k \to \infty} x_k = -\infty
</span>。</p><p>于是，考虑到上述所有可能性，现在把数列
<span class=fallback-latex>{x_k}
</span>的下极限的定义简写为：</p><span class=fallback-latex>\boxed{\underline{\lim}_{k \to \infty} x_k := \lim{n \to \infty} \inf_{k \geq n} x_k}.</span><p>类似地，如果考虑数列
<span class=fallback-latex>s_n = \sup_{k \geq n} x_k
</span>，就得到数列
<span class=fallback-latex>{x_k}
</span>的上极限的定义：</p><p><strong>定义 14.（上极限）</strong></p><span class=fallback-latex>\boxed{\overline{\lim}_{k \to \infty} x_k := \lim{n \to \infty} \sup_{k \geq n} x_k}.</span><p>举一些例子。</p><p><strong>例 14.</strong> 设
<span class=fallback-latex>x_k = (-1)^k, \ k \in \mathbb{N}
</span>。</p><span class=fallback-latex>\underline{\lim}_{k \to \infty} x_k = \lim_{n \to \infty} \inf_{k \geq n} x_k = \lim_{n \to \infty} \inf (-1)^k = \lim_{n \to \infty} (-1) = -1,
</span><span class=fallback-latex>\overline{\lim}_{k \to \infty} x_k = \lim_{n \to \infty} \sup_{k \geq n} x_k = \lim_{n \to \infty} \sup_{k \geq n} (-1)^k = \lim_{n \to \infty} 1 = 1.</span><blockquote><p><strong>1. 下极限（lim inf）</strong></p><ul><li><strong>定义</strong>：<br><span class=fallback-latex>> \underline{\lim}_{k \to \infty} x_k = \lim_{n \to \infty} \inf_{k \geq n} x_k ></span><br>意味着我们取从第
<span class=fallback-latex>n
</span>项开始的所有后续项（
<span class=fallback-latex>k \geq n
</span>）中的最小值，并让
<span class=fallback-latex>n \to \infty
</span>。</li><li>对于
<span class=fallback-latex>x_k = (-1)^k
</span>：<ul><li>当
<span class=fallback-latex>k
</span>是偶数时，
<span class=fallback-latex>x_k = 1
</span>；</li><li>当
<span class=fallback-latex>k
</span>是奇数时，
<span class=fallback-latex>x_k = -1
</span>。</li><li>所以，在任何后续的子列中，总能找到一个奇数项使得最小值为
<span class=fallback-latex>-1
</span>。因此：
<span class=fallback-latex>> \inf_{k \geq n} x_k = -1 \quad (\text{不论 } n \text{ 的值})。 ></span></li></ul></li><li>最后，取极限
<span class=fallback-latex>n \to \infty
</span>，下极限为：<br><span class=fallback-latex>> \liminf x_k = -1. ></span></li></ul></blockquote><blockquote><p><strong>2. 上极限（lim sup）</strong></p><ul><li><strong>定义</strong>：<br><span class=fallback-latex>> \overline{\lim}_{k \to \infty} x_k = \lim_{n \to \infty} \sup_{k \geq n} x_k ></span><br>意味着我们取从第
<span class=fallback-latex>n
</span>项开始的所有后续项（
<span class=fallback-latex>k \geq n
</span>）中的最大值，并让
<span class=fallback-latex>n \to \infty
</span>。</li><li>对于
<span class=fallback-latex>x_k = (-1)^k
</span>：<ul><li>类似地，在任何后续的子列中，总能找到一个偶数项使得最大值为
<span class=fallback-latex>1
</span>。因此：
<span class=fallback-latex>> \sup_{k \geq n} x_k = 1 \quad (\text{不论 } n \text{ 的值})。 ></span></li></ul></li><li>最后，取极限
<span class=fallback-latex>n \to \infty
</span>，上极限为：<br><span class=fallback-latex>> \limsup x_k = 1. ></span></li></ul></blockquote><blockquote><p><strong>3. 总结</strong></p><ul><li><strong>下极限（lim inf）</strong> 取决于数列的长期最小值，结果是
<span class=fallback-latex>-1
</span>。</li><li><strong>上极限（lim sup）</strong> 取决于数列的长期最大值，结果是
<span class=fallback-latex>1
</span>。</li><li>由于
<span class=fallback-latex>x_k = (-1)^k
</span>是振荡的，极限
<span class=fallback-latex>\lim_{k \to \infty} x_k
</span>并不存在。</li></ul></blockquote><p><strong>例 15.</strong> 设
<span class=fallback-latex>x_k = k^{(-1)^k}, \ k \in \mathbb{N}
</span>。</p><span class=fallback-latex>\underline{\lim}_{k \to \infty} k^{(-1)^k} = \lim_{n \to \infty} \inf_{k \geq n} k^{(-1)^k} = \lim_{n \to \infty} 0 = 0,
</span><span class=fallback-latex>\overline{\lim}_{k \to \infty} k^{(-1)^k} = \lim_{n \to \infty} \sup_{k \geq n} k^{(-1)^k} = \lim_{n \to \infty} \sup_{k \geq n} k^{(-1)^k} = \lim_{n \to \infty} (+\infty) = +\infty.</span><p><strong>例 16.</strong> 设
<span class=fallback-latex>x_k = k, \ k \in \mathbb{N}
</span>。</p><span class=fallback-latex>\underline{\li}m_{k \to \infty} k = \lim_{n \to \infty} \inf_{k \geq n} k = \lim_{n \to \infty} n = +\infty.
</span><span class=fallback-latex>\overline{\lim}_{k \to \infty} k = \lim_{n \to \infty} \sup_{k \geq n} k = \lim_{n \to \infty} \sup_{k \geq n} k = \lim_{n \to \infty} (+\infty) = +\infty.</span><p><strong>例 17.</strong> 设
<span class=fallback-latex>x_k = \frac{(-1)^k}{k}, \ k \in \mathbb{N}
</span>。</p><span class=fallback-latex>\underlin{\lim}_{k \to \infty} \frac{(-1)^k}{k} = \lim_{n \to \infty} \inf_{k \geq n} \frac{(-1)^k}{k} = \lim_{n \to \infty}
\begin{cases}
\frac{1}{n}, & n = 2m + 1 \\ 
-\frac{1}{n+1}, & n = 2m
\end{cases}
= 0,
</span><span class=fallback-latex>\overline{\lim}_{k \to \infty} \frac{(-1)^k}{k} = \lim_{n \to \infty} \sup_{k \geq n} \frac{(-1)^k}{k} = \lim_{n \to \infty}
\begin{cases}
\frac{1}{n}, & n = 2m \\ 
\frac{1}{n+1}, & n = 2m + 1
\end{cases}
= 0.</span><p><strong>例 18.</strong> 设
<span class=fallback-latex>x_k = -k^2, \ k \in \mathbb{N}
</span>。</p><span class=fallback-latex>\underline{\lim}_{k \to \infty} (-k^2) = \lim_{n \to \infty} \inf_{k \geq n} (-k^2) = -\infty.</span><p><strong>例 19.</strong> 设
<span class=fallback-latex>x_k = (-1)^k k, \ k \in \mathbb{N}
</span>。</p><span class=fallback-latex>\underline{\lim}_{k \to \infty} (-1)^k k = \lim_{n \to \infty} \inf_{k \geq n} (-1)^k k = \lim_{n \to \infty} (-\infty) = -\infty,
</span><span class=fallback-latex>\overline{\lim}_{k \to \infty} (-1)^k k = \lim_{n \to \infty} \sup_{k \geq n} (-1)^k k = \lim_{n \to \infty} (+\infty) = +\infty.</span><p>为了探究数列的“上”极限与“下”极限这两个术语的来源，我们引入以下定义：</p><p><strong>定义 15.（部分极限）</strong> 如果一个数列包含趋于某数（可以是记号
<span class=fallback-latex>+\infty
</span>或
<span class=fallback-latex>-\infty
</span>）的子列，则该数称为该数列的部分极限。</p><p><strong>命题 1. 有界数列的下极限与上极限，分别是其部分极限中的最小者与最大者。</strong></p><p>我们以下极限
<span class=fallback-latex>i=\underline{\lim}_{k \to \infty} x_k
</span>为例来证明这个命题。我们知道，数列
<span class=fallback-latex>i_n = \inf_{k \geq n} x_k
</span>是不减数列，并且
<span class=fallback-latex>\lim_{n \to \infty} i_n = i \in \mathbb{R}
</span>。对于数
<span class=fallback-latex>n \in \mathbb{N}
</span>，利用下确界的定义，按照归纳原理求出数
<span class=fallback-latex>k_n \in \mathbb{N}
</span>，使得
<span class=fallback-latex>k_n < k_{n+1}
</span>且
<span class=fallback-latex>i_{k_n} \leq x_{k_n} < i_{k_n} + 1/n
</span>（根据
<span class=fallback-latex>i_1
</span>求出
<span class=fallback-latex>k_1
</span>，根据
<span class=fallback-latex>i_{k+1}
</span>求出
<span class=fallback-latex>k_2
</span>，并以此类推）。因为
<span class=fallback-latex>\lim_{n \to \infty} i_n = \lim (i_n + 1/n) = i
</span>，所以根据极限的性质可知，
<span class=fallback-latex>\lim_{n \to \infty} x_{k_n} = i
</span>，从而证明了
<span class=fallback-latex>i
</span>是数列
<span class=fallback-latex>{x_k}
</span>的部分极限。</p><p>它是最小的部分极限，因为对于任何
<span class=fallback-latex>\varepsilon > 0
</span>，可以求出数
<span class=fallback-latex>n \in \mathbb{N}
</span>，使得
<span class=fallback-latex>i - \varepsilon < i_n
</span>，即对于任何
<span class=fallback-latex>k \geq n
</span>都有
<span class=fallback-latex>i - \varepsilon < x_k \leq i_n = \inf_{k \geq n} x_k
</span>。</p><p>当
<span class=fallback-latex>k > n
</span>时，不等式
<span class=fallback-latex>i - \varepsilon < x_k
</span>意味着，数列
<span class=fallback-latex>{x_k}
</span>的任何部分极限都不能小于
<span class=fallback-latex>i - \varepsilon
</span>。但
<span class=fallback-latex>\varepsilon > 0
</span>是任意的，所以这个部分极限也不能小于
<span class=fallback-latex>i
</span>。</p><p>对于上极限，证明显然是类似的。</p><blockquote><p><strong>第一部分：构造子列，证明
<span class=fallback-latex>\lim \inf x_k = i
</span>是部分极限</strong></p><ul><li><strong>定义</strong>：设
<span class=fallback-latex>\lim \inf x_k = i
</span>，并记
<span class=fallback-latex>i_n = \inf_{k \geq n} x_k
</span>，则有
<span class=fallback-latex>\lim_{n \to \infty} i_n = i
</span>。</li><li>利用
<span class=fallback-latex>i_n
</span>的定义，上文中通过归纳构造了一列
<span class=fallback-latex>k_n
</span>满足：<ul><li><span class=fallback-latex>k_1
</span>是第一个使得
<span class=fallback-latex>i_1 \leq x_{k_1} < i_1 + 1/1
</span>的索引；</li><li><span class=fallback-latex>k_2 > k_1
</span>是第一个使得
<span class=fallback-latex>i_2 \leq x_{k_2} < i_2 + 1/2
</span>的索引；</li><li>依此类推，递归地找到
<span class=fallback-latex>k_n
</span>，使得：<br><span class=fallback-latex>i_n \leq x_{k_n} < i_n + 1/n
</span>。</li></ul></li><li>因为
<span class=fallback-latex>i_n \to i
</span>，所以子列
<span class=fallback-latex>x_{k_n}
</span>也收敛于
<span class=fallback-latex>i
</span>。</li></ul><p>这说明
<span class=fallback-latex>\lim \inf x_k = i
</span>是
<span class=fallback-latex>\{x_k\}
</span>的一个部分极限。</p><hr><p><strong>第二部分：证明
<span class=fallback-latex>\lim \inf x_k
</span>是所有部分极限中的最小值</strong></p><ul><li><strong>目标</strong>：证明任何部分极限都不能小于
<span class=fallback-latex>\lim \inf x_k
</span>。</li><li><strong>假设</strong>：对于任意
<span class=fallback-latex>\varepsilon > 0
</span>，上文中说可以找到
<span class=fallback-latex>n
</span>使得
<span class=fallback-latex>i - \varepsilon < i_n
</span>（即
<span class=fallback-latex>\inf_{k \geq n} x_k
</span>），因为
<span class=fallback-latex>i_n \to i
</span>。</li><li>当
<span class=fallback-latex>k \geq n
</span>时，所有
<span class=fallback-latex>x_k \geq i_n > i - \varepsilon
</span>，这表明数列
<span class=fallback-latex>\{x_k\}
</span>中任何一段子列的值都不可能小于
<span class=fallback-latex>i - \varepsilon
</span>。</li><li>由于
<span class=fallback-latex>\varepsilon > 0
</span>是任意的，因此，数列的任何部分极限
<span class=fallback-latex>L
</span>都满足
<span class=fallback-latex>L \geq i
</span>。</li></ul><p>因此，
<span class=fallback-latex>\lim \inf x_k = i
</span>是最小的部分极限。</p></blockquote><p>我们现在指出，如果一个数列下无界，就可以从中选出一个趋于
<span class=fallback-latex>-\infty
</span>的子列。但这时
<span class=fallback-latex>\underline{\lim}{k \to \infty} x_k = -\infty
</span>，所以可以约定，仍然认为下极限是部分极限中的最小者。这时的上极限可能是有限的，如上所证，它是部分极限中的最大者；它也可能是无穷大。如果
<span class=fallback-latex>\overline{\lim}{k \to \infty} x_k = +\infty
</span>，则数列上无界，从中可以选出一个趋于
<span class=fallback-latex>+\infty
</span>的子列。</p><span class=fallback-latex>(x_n \to -\infty) := \forall c \in \mathbb{R} \ \exists N \in \mathbb{N} \ \forall n > N \ (x_n < c)</span><p>如果
<span class=fallback-latex>\underline{\lim}{k \to \infty} x_k = -\infty
</span>（这也是可能的），则
<span class=fallback-latex>\sup{k \geq n} x_k = s_n \to -\infty
</span>，即数列
<span class=fallback-latex>{x_k}
</span>本身趋于
<span class=fallback-latex>-\infty
</span>，因为
<span class=fallback-latex>s_n \geq x_k
</span>。</p><p>类似地，如果
<span class=fallback-latex>\overline{\lim}_{k \to \infty} x_k = +\infty
</span>，则
<span class=fallback-latex>x_k \to +\infty
</span>。</p><p>综上所述，即得以下结论。</p><p><strong>命题 1&rsquo;. 对于任何数列，下极限是其部分极限中的最小者，而上极限是其部分极限中的最大者。</strong></p><p><strong>推论 1. 数列有极限或趋于负无穷或正无穷的充要条件是其上、下极限相等。</strong></p><p><strong>证明</strong>：</p><p>前面已经分析了
<span class=fallback-latex>\underline{\lim}_{k \to \infty} x_k = \overline{\lim}_{k \to \infty} x_k = +\infty
</span>和
<span class=fallback-latex>\underline{\lim}_{k \to \infty} x_k = \overline{\lim}_{k \to \infty} x_k = -\infty
</span>这两种情况，所以可以认为
<span class=fallback-latex>\underline{\lim}_{k \to \infty} x_k = \overline{\lim}_{k \to \infty} x_k = A \in \mathbb{R}
</span>。因为
<span class=fallback-latex>i_n = \inf_{k \geq n} x_k < x_n \leq \sup_{k \geq n} x_k = s_n
</span>，并且根据条件，
<span class=fallback-latex>\lim_{n \to \infty} i_n = \lim_{n \to \infty} s_n = A
</span>，所以，根据极限的性质，
<span class=fallback-latex>\lim_{n \to \infty} x_n = A
</span>也成立。</p><p><strong>推论 2. 数列收敛的充要条件是它的任何子列收敛。</strong></p><p><strong>证明</strong>：</p><p>一个数列的一个子列，其下极限与上极限介于原数列的下极限与上极限之间。如果数列收敛，则其下极限与上极限重合，这时子列的下极限与上极限也重合，由此可知子列收敛，并且显然收敛于原数列的极限。</p><p>逆命题显然成立，因为可以取数列本身作为一个子列。</p><p><strong>推论 3. 波尔查诺–魏尔斯特拉斯引理的狭义表述和广义表述分别得自命题 1 和命题 1&rsquo;。</strong></p><blockquote><p><strong>1. 狭义表述</strong>
狭义表述是关于有界数列的基本性质的原始形式。它可以表述为：</p><blockquote><p>“任何有界实数数列都至少有一个收敛的子列。”</p></blockquote><p>这意味着：</p><ul><li>如果数列
<span class=fallback-latex>\{x_k\}
</span>是有界的（即存在一个常数
<span class=fallback-latex>M > 0
</span>，使得对于所有
<span class=fallback-latex>k
</span>，
<span class=fallback-latex>|x_k| \leq M
</span>），那么一定可以从数列中提取一个子列
<span class=fallback-latex>\{x_{k_n}\}
</span>，使得这个子列收敛于某个有限值。</li></ul><p>这是波尔查诺–魏尔施特拉斯引理的基本形式，强调了有界数列的部分收敛性。</p><hr><p><strong>2. 广义表述</strong>
广义表述是对波尔查诺–魏尔施特拉斯引理的推广，通常不仅讨论有界数列，还可以涉及某些更一般的数列（如趋于无穷的数列），并结合极限点的概念进行讨论。文中的广义表述可以总结为：</p><blockquote><p>“任何有界数列必然存在极限点，并且对于无界数列，总可以找到一个趋于无穷的子列。”</p></blockquote><p>这意味着：</p><ol><li><p><strong>对于有界数列</strong>：<br>数列的值不会跑到无穷远，因此数列必然存在部分极限（可以是下极限
<span class=fallback-latex>\lim \inf
</span>或上极限
<span class=fallback-latex>\lim \sup
</span>）。只有当下极限和上极限相等时，数列才是收敛的。</p></li><li><p><strong>对于无界数列</strong>：<br>如果数列在某方向上无界（比如向正无穷发散），那么可以找到一个相应的子列，使得该子列趋于无穷。</p></li></ol></blockquote><p><strong>证明</strong>：</p><p>其实，如果数列
<span class=fallback-latex>\{x_k\}
</span>有界，则点
<span class=fallback-latex>i = \underline{\lim}_{k \to \infty} x_k
</span>和
<span class=fallback-latex>s = \overline{\lim}_{k \to \infty} x_k
</span>都是有限的。根据上述结果，它们都是数列的部分极限。只有当
<span class=fallback-latex>i = s
</span>时，数列才只有唯一的极限点，而当
<span class=fallback-latex>i < s
</span>时，数列已经至少有两个极限点。</p><p>如果数列在某方向上无界，则趋于相应无穷大的子列存在。</p></div><aside class=sidebar><div class=card><h2>摘要</h2><p>a.柯西准则（Cauchy criterion） 定义 7.（柯西数列）
数列 \{x_n\} 称为 基本数列（或 柯西数列），如果对于任何一个数 \varepsilon > 0 ，可以求出序号 N …</p></div><div class=card><h2>阅读时长</h2><p>18 min</p></div><div class=card><h2>总字数</h2><p>≈ 3763</p></div><div class=card><h2>标签</h2><p><a href=#><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentcolor" class="bi bi-tag" viewBox="0 0 16 16"><path d="M3 2A1 1 0 002 3v4.586a1 1 0 00.293.707l7 7a1 1 0 001.414.0l4.586-4.586a1 1 0 000-1.414l-7-7A1 1 0 008.586 2H3zm1 1h4.586L14 8.414 9.414 13l-6-6V3z"/><path d="M5.5 5.5a1.5 1.5.0 11-3 0 1.5 1.5.0 013 0z"/></svg>
数学分析</a></p></div></aside></div></div></main><div class=comments data-articleurl=/notes/math/%E5%88%86%E6%9E%90%E5%AD%A6/%E6%95%B0%E5%AD%A6%E5%88%86%E6%9E%90/%E5%8D%93%E9%87%8C%E5%A5%87%E6%95%B0%E5%AD%A6%E5%88%86%E6%9E%90/3.1.3/><h2>Comments</h2><div class=comment data-depth=0 style=margin-left:0!important data-parent data-custom=1731832040899-795 data-articleurl=/notes/test-page/><div class=comment-content style=border-radius:10px;padding:10px><img src="https://www.gravatar.com/avatar/d9dab474cfdb4e177b10b36e239d6fb2?s=100&d=wavatar" alt="Chiara-lee Avatar" style=border-radius:50%;width:50px;height:50px;margin-right:15px><div class=comment-text style=flex:1><div style=display:flex;align-items:center><div class=author style=font-weight:700>Chiara-lee</div><span class=time style=margin-left:10px;color:#888>2024-11-17 08:27:23</span></div><div class=message>评论测试</div><button class=reply-button data-parent data-name=Chiara-lee data-custom=1731832040899-795>Reply</button></div></div><div class=child-comment data-depth=1 style=margin-left:50px!important data-parent=1731832040899-795 data-custom=1731832122014-150 data-articleurl=/notes/test-page/><div class=comment-content style=border-radius:10px;padding:10px><img src="https://www.gravatar.com/avatar/d9dab474cfdb4e177b10b36e239d6fb2?s=100&d=wavatar" alt="Chiara-lee Avatar" style=border-radius:50%;width:50px;height:50px;margin-right:15px><div class=comment-text style=flex:1><div style=display:flex;align-items:center><div class=author style=font-weight:700>Chiara-lee</div><span class=time style=margin-left:10px;color:#888>2024-11-17 08:28:45</span></div><div class=message>子评论测试</div><button class=reply-button data-parent=1731832040899-795 data-name=Chiara-lee data-custom=1731832122014-150>Reply</button></div></div><div style=clear:both></div><div class=comment data-depth=0 style=margin-left:0!important data-parent data-custom=1731832210679-902 data-articleurl=/notes/test-page/><div class=comment-content style=border-radius:10px;padding:10px><img src="https://www.gravatar.com/avatar/d9dab474cfdb4e177b10b36e239d6fb2?s=100&d=wavatar" alt="Chiara-lee Avatar" style=border-radius:50%;width:50px;height:50px;margin-right:15px><div class=comment-text style=flex:1><div style=display:flex;align-items:center><div class=author style=font-weight:700>Chiara-lee</div><span class=time style=margin-left:10px;color:#888>2024-11-17 08:30:13</span></div><div class=message>评论测试 2.0</div><button class=reply-button data-parent data-name=Chiara-lee data-custom=1731832210679-902>Reply</button></div></div><template id=comment-success><div class=success>您的评论已成功提交审核。(´｡• ᵕ •｡`)</div></template><template id=comment-error><div class=error>啊，好像出了些问题，请您调整后重试。(；′⌒`)</div></template><form id=comment-form data-dynamic-form data-success=#comment-success data-error=#comment-error netlify=true name=Comments method=POST style=margin-top:20px><div id=reply-to style=display:none;color:#6c757d;margin-bottom:10px></div><input type=hidden name=url value=/notes/math/%E5%88%86%E6%9E%90%E5%AD%A6/%E6%95%B0%E5%AD%A6%E5%88%86%E6%9E%90/%E5%8D%93%E9%87%8C%E5%A5%87%E6%95%B0%E5%AD%A6%E5%88%86%E6%9E%90/3.1.3/>
<input type=hidden name=parent id=parent>
<input type=hidden name=custom id=custom>
<input type=hidden name=depth id=depth value=0>
<input type=hidden name=articleurl value=/notes/math/%E5%88%86%E6%9E%90%E5%AD%A6/%E6%95%B0%E5%AD%A6%E5%88%86%E6%9E%90/%E5%8D%93%E9%87%8C%E5%A5%87%E6%95%B0%E5%AD%A6%E5%88%86%E6%9E%90/3.1.3/>
<label class=comment-label for=name>Name:</label>
<input class=comment-input type=text id=name name=name required autocomplete=name>
<label class=comment-label for=email>Email:</label>
<input class=comment-input type=email id=email name=email required autocomplete=email>
<label class=comment-label for=comment>Comment:</label>
<textarea class=comment-textarea id=comment name=comment rows=5 required autocomplete=off></textarea>
<button class=comment-button type=submit>Send</button></form></div><script>function generateUniqueId(){return`${Date.now()}-${Math.floor(Math.random()*1e3)}`}document.querySelectorAll(".reply-button").forEach(e=>{e.addEventListener("click",function(){const n=this.closest(".comment"),e=this.getAttribute("data-custom"),s=this.getAttribute("data-name"),o=parseInt(n.getAttribute("data-depth"))||0;document.getElementById("parent").value=e||"",console.log("Parent ID set to:",e);const i=o+1;document.getElementById("depth").value=i;const t=document.getElementById("reply-to");t.style.display="block",t.innerText=`回复 @${s}`,document.querySelectorAll(".comment").forEach(e=>{e.classList.remove("highlight")}),this.closest(".comment").classList.add("highlight")}),document.getElementById("comment-form").scrollIntoView({behavior:"smooth"})}),document.getElementById("comment-form").addEventListener("submit",function(){const t=document.getElementById("custom");t.value||(t.value=generateUniqueId(),console.log("Custom ID set to:",t.value))}),window.onload=function(){const e=document.querySelector(".comments"),n=e.dataset.articleurl.replace(/\/$/,"").toLowerCase(),s=document.querySelector("#comment-form"),o=document.querySelector("footer"),i=Array.from(document.querySelectorAll(".comment, .child-comment")),t=i.filter(e=>{const t=e.dataset.articleurl.replace(/\/$/,"").toLowerCase();return t===n});e.innerHTML="";const a=t.filter(e=>e.dataset.depth==="0");a.forEach(n=>{e.appendChild(n);const s=t.filter(e=>e.dataset.parent===n.dataset.custom);s.forEach(t=>{t.classList.add("child-comment"),e.appendChild(t)})}),e.appendChild(s),e.appendChild(o),e.style.display="none",e.offsetHeight,e.style.display=""}</script><script src=/js/footnotes.js></script><footer class=dark><nav><ul><li><a href=/reference>引用资料列表</a></li><li><a href=/categories>教材索引</a></li><li><a href></a></li></ul></nav><ul><li><a href=https://facebook.com/example aria-label=Facebook><i class=icon-facebook></i></a></li><li><a href=https://x.com/i/flow/login aria-label=Twitter><i class=icon-twitter></i></a></li><li><a href=mailto:chiaralee953@foxmail.com aria-label=email><i class=icon-email></i></a></li></ul><div>Copyright © 2024 Caleton Academy of Magic.</div></footer></body></html>